#!/usr/bin/env bash
#
# Sort records w/ Sort for Fzf
# ============================
# Tim Friske <me@tifr.de>
#
# Dependencies::
#   _Bash_, _Cat_

shopt -os nounset pipefail errexit errtrace

function print_help {
  1>&2 cat \
<<'HELP'
Help
====
Sort records with _Sort_ for _Fzf_.

Usage
-----
.Command line syntax
----
fzf-sort [--help]
----

Options
-------
--help::
  Print this program's help text.

The _Fzf-sort_ program reads records from the standard input stream,
sorts them alphabetically and writes them to the standard output stream
in that sort order.
HELP
}

function sort_records {
  sort
}

function fzf_sort {
  if [[ "${1:-}" == '--help' ]]; then
    print_help
    exit
  fi

  sort_records
}

fzf_sort "$@"
